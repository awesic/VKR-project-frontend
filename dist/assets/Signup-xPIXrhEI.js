import{a as io,$ as qe,s as $t,r as t,t as uo,_ as x,v as N,w as fo,x as T,y as xe,z as Ge,A as Ue,D as Ze,j as n,b as R,I as ce,p as Qe,i as Je,E as et,h as tt,B as se,F as O,G as ae,H as ee,J as po,K as wt,M as mo,O as ho,P as St,Q as bo,S as xo,T as vo,U as go,V as $o,W as wo,X as So,Y as yo,Z as yt,C as be,a0 as ye,k as Co,L as Eo}from"./index-GvI2urAZ.js";import{b as H,c as W,d as B,e as z,I as mt,E as Po,f as To,z as L,u as ot,t as nt,F as rt,a as at}from"./form-hLCCx6LD.js";import{L as ct}from"./loader-2-tsgD-EsW.js";import{P as Ce,a as Ee,C as Pe,b as Te,c as _e,d as je,e as Re,f as Ne,g as Ie}from"./popover-9d1hG6de.js";/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=io("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ct="Tabs",[jo,ar]=qe(Ct,[$t]),Et=$t(),[Ro,st]=jo(Ct),No=t.forwardRef((e,r)=>{const{__scopeTabs:o,value:a,onValueChange:c,defaultValue:i,orientation:l="horizontal",dir:s,activationMode:u="automatic",...f}=e,d=Ge(s),[p,m]=Ue({prop:a,onChange:c,defaultProp:i});return t.createElement(Ro,{scope:o,baseId:Ze(),value:p,onValueChange:m,orientation:l,dir:d,activationMode:u},t.createElement(N.div,x({dir:d,"data-orientation":l},f,{ref:r})))}),Io="TabsList",Ao=t.forwardRef((e,r)=>{const{__scopeTabs:o,loop:a=!0,...c}=e,i=st(Io,o),l=Et(o);return t.createElement(uo,x({asChild:!0},l,{orientation:i.orientation,dir:i.dir,loop:a}),t.createElement(N.div,x({role:"tablist","aria-orientation":i.orientation},c,{ref:r})))}),Do="TabsTrigger",Mo=t.forwardRef((e,r)=>{const{__scopeTabs:o,value:a,disabled:c=!1,...i}=e,l=st(Do,o),s=Et(o),u=Pt(l.baseId,a),f=Tt(l.baseId,a),d=a===l.value;return t.createElement(fo,x({asChild:!0},s,{focusable:!c,active:d}),t.createElement(N.button,x({type:"button",role:"tab","aria-selected":d,"aria-controls":f,"data-state":d?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:u},i,{ref:r,onMouseDown:T(e.onMouseDown,p=>{!c&&p.button===0&&p.ctrlKey===!1?l.onValueChange(a):p.preventDefault()}),onKeyDown:T(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(a)}),onFocus:T(e.onFocus,()=>{const p=l.activationMode!=="manual";!d&&!c&&p&&l.onValueChange(a)})})))}),Lo="TabsContent",Oo=t.forwardRef((e,r)=>{const{__scopeTabs:o,value:a,forceMount:c,children:i,...l}=e,s=st(Lo,o),u=Pt(s.baseId,a),f=Tt(s.baseId,a),d=a===s.value,p=t.useRef(d);return t.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),t.createElement(xe,{present:c||d},({present:m})=>t.createElement(N.div,x({"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":u,hidden:!m,id:f,tabIndex:0},l,{ref:r,style:{...e.style,animationDuration:p.current?"0s":void 0}}),m&&i))});function Pt(e,r){return`${e}-trigger-${r}`}function Tt(e,r){return`${e}-content-${r}`}const ko=No,_t=Ao,jt=Mo,Rt=Oo,Fo=ko,Nt=t.forwardRef(({className:e,...r},o)=>n.jsx(_t,{ref:o,className:R("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));Nt.displayName=_t.displayName;const we=t.forwardRef(({className:e,...r},o)=>n.jsx(jt,{ref:o,className:R("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));we.displayName=jt.displayName;const Se=t.forwardRef(({className:e,...r},o)=>n.jsx(Rt,{ref:o,className:R("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));Se.displayName=Rt.displayName;const lt=({form:e})=>{const[r,o]=t.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx(H,{control:e.control,name:"last_name",render:({field:a})=>n.jsxs(W,{children:[n.jsx(B,{children:n.jsx(ce,{placeholder:"Фамилия *",...a})}),n.jsx(z,{})]})}),n.jsx(H,{control:e.control,name:"first_name",render:({field:a})=>n.jsxs(W,{children:[n.jsx(B,{children:n.jsx(ce,{placeholder:"Имя *",...a})}),n.jsx(z,{})]})}),n.jsx(H,{control:e.control,name:"patronymic",render:({field:a})=>n.jsxs(W,{children:[n.jsx(B,{children:n.jsx(ce,{placeholder:"Отчество",...a})}),n.jsx(z,{})]})}),n.jsx(H,{control:e.control,name:"email",render:({field:a})=>n.jsxs(W,{children:[n.jsx(B,{children:n.jsx(ce,{placeholder:"Почта *",...a})}),n.jsx(z,{})]})}),n.jsx(H,{control:e.control,name:"password",render:({field:a})=>n.jsxs(W,{children:[n.jsxs(mt,{className:"flex-nowrap",children:[n.jsx(B,{children:n.jsx(ce,{placeholder:"Пароль *",type:r?"text":"password",...a})}),n.jsx(mt.Text,{onClick:()=>o(c=>!c),children:r?n.jsx(Po,{}):n.jsx(To,{})})]}),n.jsx(z,{})]})}),n.jsx(H,{control:e.control,name:"password2",render:({field:a})=>n.jsxs(W,{children:[n.jsx(B,{children:n.jsx(ce,{type:"password",placeholder:"Подтверждение пароля *",...a})}),n.jsx(z,{})]})})]})},it=L.object({email:L.string({required_error:"Это поле обязательно для заполнения"}).email({message:"Неправильный формат почты"}),password:L.string({required_error:"Это поле обязательно для заполнения"}).min(3,{message:"Пароль слишком короткий"}),password2:L.string({required_error:"Это поле обязательно для заполнения"}).min(3,{message:"Повторите пароль"}),first_name:L.string({required_error:"Это поле обязательно для заполнения"}).min(3,{message:"Имя должно быть не менее 3 букв"}),last_name:L.string({required_error:"Это поле обязательно для заполнения"}).min(3,{message:"Фамилия должна быть не менее 3 букв"}),patronymic:L.string().default(""),role:L.string().default("admin")}),Vo=it.refine(e=>e.password===e.password2,{path:["password2"],message:"Пароли не совпадают!"}),Ho=()=>{const e=ot({resolver:nt(Vo)}),r=Qe(),{isSuccess:o}=Je(),{error:a,isPending:c,mutate:i}=et(),l=s=>{i(s)};return t.useEffect(()=>{o&&r("/home")},[o]),n.jsx(rt,{...e,children:n.jsxs("form",{onSubmit:e.handleSubmit(l),className:"min-w-[16rem] space-y-3 text-center",children:[n.jsx(tt,{}),n.jsx(at,{className:"text-start text-danger",children:a?a.message:""}),n.jsx(lt,{form:e}),n.jsxs(se,{type:"submit",disabled:c,className:"rounded-5 mt-4",children:[c?n.jsx(ct,{className:"mr-2 h-4 w-4 animate-spin"}):null,"зарегистрироваться"]})]})})};function Ye(e,[r,o]){return Math.min(o,Math.max(r,e))}function Wo(e,r){return t.useReducer((o,a)=>{const c=r[o][a];return c??o},e)}const It="ScrollArea",[At,cr]=qe(It),[Bo,U]=At(It),zo=t.forwardRef((e,r)=>{const{__scopeScrollArea:o,type:a="hover",dir:c,scrollHideDelay:i=600,...l}=e,[s,u]=t.useState(null),[f,d]=t.useState(null),[p,m]=t.useState(null),[v,b]=t.useState(null),[w,y]=t.useState(null),[g,h]=t.useState(0),[S,G]=t.useState(0),[M,Y]=t.useState(!1),[I,D]=t.useState(!1),C=O(r,F=>u(F)),A=Ge(c);return t.createElement(Bo,{scope:o,type:a,dir:A,scrollHideDelay:i,scrollArea:s,viewport:f,onViewportChange:d,content:p,onContentChange:m,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:M,onScrollbarXEnabledChange:Y,scrollbarY:w,onScrollbarYChange:y,scrollbarYEnabled:I,onScrollbarYEnabledChange:D,onCornerWidthChange:h,onCornerHeightChange:G},t.createElement(N.div,x({dir:A},l,{ref:C,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})))}),Uo="ScrollAreaViewport",Yo=t.forwardRef((e,r)=>{const{__scopeScrollArea:o,children:a,...c}=e,i=U(Uo,o),l=t.useRef(null),s=O(r,l,i.onViewportChange);return t.createElement(t.Fragment,null,t.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),t.createElement(N.div,x({"data-radix-scroll-area-viewport":""},c,{ref:s,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style}}),t.createElement("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"}},a)))}),te="ScrollAreaScrollbar",Dt=t.forwardRef((e,r)=>{const{forceMount:o,...a}=e,c=U(te,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=c,s=e.orientation==="horizontal";return t.useEffect(()=>(s?i(!0):l(!0),()=>{s?i(!1):l(!1)}),[s,i,l]),c.type==="hover"?t.createElement(Ko,x({},a,{ref:r,forceMount:o})):c.type==="scroll"?t.createElement(Xo,x({},a,{ref:r,forceMount:o})):c.type==="auto"?t.createElement(Mt,x({},a,{ref:r,forceMount:o})):c.type==="always"?t.createElement(dt,x({},a,{ref:r})):null}),Ko=t.forwardRef((e,r)=>{const{forceMount:o,...a}=e,c=U(te,e.__scopeScrollArea),[i,l]=t.useState(!1);return t.useEffect(()=>{const s=c.scrollArea;let u=0;if(s){const f=()=>{window.clearTimeout(u),l(!0)},d=()=>{u=window.setTimeout(()=>l(!1),c.scrollHideDelay)};return s.addEventListener("pointerenter",f),s.addEventListener("pointerleave",d),()=>{window.clearTimeout(u),s.removeEventListener("pointerenter",f),s.removeEventListener("pointerleave",d)}}},[c.scrollArea,c.scrollHideDelay]),t.createElement(xe,{present:o||i},t.createElement(Mt,x({"data-state":i?"visible":"hidden"},a,{ref:r})))}),Xo=t.forwardRef((e,r)=>{const{forceMount:o,...a}=e,c=U(te,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Me(()=>u("SCROLL_END"),100),[s,u]=Wo("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return t.useEffect(()=>{if(s==="idle"){const f=window.setTimeout(()=>u("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(f)}},[s,c.scrollHideDelay,u]),t.useEffect(()=>{const f=c.viewport,d=i?"scrollLeft":"scrollTop";if(f){let p=f[d];const m=()=>{const v=f[d];p!==v&&(u("SCROLL"),l()),p=v};return f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[c.viewport,i,u,l]),t.createElement(xe,{present:o||s!=="hidden"},t.createElement(dt,x({"data-state":s==="hidden"?"hidden":"visible"},a,{ref:r,onPointerEnter:T(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:T(e.onPointerLeave,()=>u("POINTER_LEAVE"))})))}),Mt=t.forwardRef((e,r)=>{const o=U(te,e.__scopeScrollArea),{forceMount:a,...c}=e,[i,l]=t.useState(!1),s=e.orientation==="horizontal",u=Me(()=>{if(o.viewport){const f=o.viewport.offsetWidth<o.viewport.scrollWidth,d=o.viewport.offsetHeight<o.viewport.scrollHeight;l(s?f:d)}},10);return fe(o.viewport,u),fe(o.content,u),t.createElement(xe,{present:a||i},t.createElement(dt,x({"data-state":i?"visible":"hidden"},c,{ref:r})))}),dt=t.forwardRef((e,r)=>{const{orientation:o="vertical",...a}=e,c=U(te,e.__scopeScrollArea),i=t.useRef(null),l=t.useRef(0),[s,u]=t.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Ft(s.viewport,s.content),d={...a,sizes:s,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:m=>l.current=m};function p(m,v){return on(m,l.current,s,v)}return o==="horizontal"?t.createElement(qo,x({},d,{ref:r,onThumbPositionChange:()=>{if(c.viewport&&i.current){const m=c.viewport.scrollLeft,v=ht(m,s,c.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:m=>{c.viewport&&(c.viewport.scrollLeft=m)},onDragScroll:m=>{c.viewport&&(c.viewport.scrollLeft=p(m,c.dir))}})):o==="vertical"?t.createElement(Go,x({},d,{ref:r,onThumbPositionChange:()=>{if(c.viewport&&i.current){const m=c.viewport.scrollTop,v=ht(m,s);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:m=>{c.viewport&&(c.viewport.scrollTop=m)},onDragScroll:m=>{c.viewport&&(c.viewport.scrollTop=p(m))}})):null}),qo=t.forwardRef((e,r)=>{const{sizes:o,onSizesChange:a,...c}=e,i=U(te,e.__scopeScrollArea),[l,s]=t.useState(),u=t.useRef(null),f=O(r,u,i.onScrollbarXChange);return t.useEffect(()=>{u.current&&s(getComputedStyle(u.current))},[u]),t.createElement(Ot,x({"data-orientation":"horizontal"},c,{ref:f,sizes:o,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":De(o)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,p)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),Ht(m,p)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&l&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Ae(l.paddingLeft),paddingEnd:Ae(l.paddingRight)}})}}))}),Go=t.forwardRef((e,r)=>{const{sizes:o,onSizesChange:a,...c}=e,i=U(te,e.__scopeScrollArea),[l,s]=t.useState(),u=t.useRef(null),f=O(r,u,i.onScrollbarYChange);return t.useEffect(()=>{u.current&&s(getComputedStyle(u.current))},[u]),t.createElement(Ot,x({"data-orientation":"vertical"},c,{ref:f,sizes:o,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":De(o)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,p)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),Ht(m,p)&&d.preventDefault()}},onResize:()=>{u.current&&i.viewport&&l&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Ae(l.paddingTop),paddingEnd:Ae(l.paddingBottom)}})}}))}),[Zo,Lt]=At(te),Ot=t.forwardRef((e,r)=>{const{__scopeScrollArea:o,sizes:a,hasThumb:c,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:s,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:d,onResize:p,...m}=e,v=U(te,o),[b,w]=t.useState(null),y=O(r,C=>w(C)),g=t.useRef(null),h=t.useRef(""),S=v.viewport,G=a.content-a.viewport,M=ae(d),Y=ae(u),I=Me(p,10);function D(C){if(g.current){const A=C.clientX-g.current.left,F=C.clientY-g.current.top;f({x:A,y:F})}}return t.useEffect(()=>{const C=A=>{const F=A.target;(b==null?void 0:b.contains(F))&&M(A,G)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[S,b,G,M]),t.useEffect(Y,[a,Y]),fe(b,I),fe(v.content,I),t.createElement(Zo,{scope:o,scrollbar:b,hasThumb:c,onThumbChange:ae(i),onThumbPointerUp:ae(l),onThumbPositionChange:Y,onThumbPointerDown:ae(s)},t.createElement(N.div,x({},m,{ref:y,style:{position:"absolute",...m.style},onPointerDown:T(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),g.current=b.getBoundingClientRect(),h.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),D(C))}),onPointerMove:T(e.onPointerMove,D),onPointerUp:T(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=h.current,v.viewport&&(v.viewport.style.scrollBehavior=""),g.current=null})})))}),Ke="ScrollAreaThumb",Qo=t.forwardRef((e,r)=>{const{forceMount:o,...a}=e,c=Lt(Ke,e.__scopeScrollArea);return t.createElement(xe,{present:o||c.hasThumb},t.createElement(Jo,x({ref:r},a)))}),Jo=t.forwardRef((e,r)=>{const{__scopeScrollArea:o,style:a,...c}=e,i=U(Ke,o),l=Lt(Ke,o),{onThumbPositionChange:s}=l,u=O(r,p=>l.onThumbChange(p)),f=t.useRef(),d=Me(()=>{f.current&&(f.current(),f.current=void 0)},100);return t.useEffect(()=>{const p=i.viewport;if(p){const m=()=>{if(d(),!f.current){const v=nn(p,s);f.current=v,s()}};return s(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[i.viewport,d,s]),t.createElement(N.div,x({"data-state":l.hasThumb?"visible":"hidden"},c,{ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:T(e.onPointerDownCapture,p=>{const v=p.target.getBoundingClientRect(),b=p.clientX-v.left,w=p.clientY-v.top;l.onThumbPointerDown({x:b,y:w})}),onPointerUp:T(e.onPointerUp,l.onThumbPointerUp)}))}),kt="ScrollAreaCorner",en=t.forwardRef((e,r)=>{const o=U(kt,e.__scopeScrollArea),a=!!(o.scrollbarX&&o.scrollbarY);return o.type!=="scroll"&&a?t.createElement(tn,x({},e,{ref:r})):null}),tn=t.forwardRef((e,r)=>{const{__scopeScrollArea:o,...a}=e,c=U(kt,o),[i,l]=t.useState(0),[s,u]=t.useState(0),f=!!(i&&s);return fe(c.scrollbarX,()=>{var d;const p=((d=c.scrollbarX)===null||d===void 0?void 0:d.offsetHeight)||0;c.onCornerHeightChange(p),u(p)}),fe(c.scrollbarY,()=>{var d;const p=((d=c.scrollbarY)===null||d===void 0?void 0:d.offsetWidth)||0;c.onCornerWidthChange(p),l(p)}),f?t.createElement(N.div,x({},a,{ref:r,style:{width:i,height:s,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function Ae(e){return e?parseInt(e,10):0}function Ft(e,r){const o=e/r;return isNaN(o)?0:o}function De(e){const r=Ft(e.viewport,e.content),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-o)*r;return Math.max(a,18)}function on(e,r,o,a="ltr"){const c=De(o),i=c/2,l=r||i,s=c-l,u=o.scrollbar.paddingStart+l,f=o.scrollbar.size-o.scrollbar.paddingEnd-s,d=o.content-o.viewport,p=a==="ltr"?[0,d]:[d*-1,0];return Vt([u,f],p)(e)}function ht(e,r,o="ltr"){const a=De(r),c=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-c,l=r.content-r.viewport,s=i-a,u=o==="ltr"?[0,l]:[l*-1,0],f=Ye(e,u);return Vt([0,l],[0,s])(f)}function Vt(e,r){return o=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(o-e[0])}}function Ht(e,r){return e>0&&e<r}const nn=(e,r=()=>{})=>{let o={left:e.scrollLeft,top:e.scrollTop},a=0;return function c(){const i={left:e.scrollLeft,top:e.scrollTop},l=o.left!==i.left,s=o.top!==i.top;(l||s)&&r(),o=i,a=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(a)};function Me(e,r){const o=ae(e),a=t.useRef(0);return t.useEffect(()=>()=>window.clearTimeout(a.current),[]),t.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(o,r)},[o,r])}function fe(e,r){const o=ae(r);ee(()=>{let a=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(o)});return c.observe(e),()=>{window.cancelAnimationFrame(a),c.unobserve(e)}}},[e,o])}const Wt=zo,rn=Yo,an=en,ut=t.forwardRef(({className:e,children:r,...o},a)=>n.jsxs(Wt,{ref:a,className:R("relative overflow-hidden",e),...o,children:[n.jsx(rn,{className:"h-full w-full rounded-[inherit]",children:r}),n.jsx(Bt,{}),n.jsx(an,{})]}));ut.displayName=Wt.displayName;const Bt=t.forwardRef(({className:e,orientation:r="vertical",...o},a)=>n.jsx(Dt,{ref:a,orientation:r,className:R("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...o,children:n.jsx(Qo,{className:"relative flex-1 rounded-full bg-border"})}));Bt.displayName=Dt.displayName;function cn(e){const r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}const sn=t.forwardRef((e,r)=>t.createElement(N.span,x({},e,{ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),ln=[" ","Enter","ArrowUp","ArrowDown"],dn=[" ","Enter"],Le="Select",[Oe,ke,un]=po(Le),[me,sr]=qe(Le,[un,wt]),ft=wt(),[fn,le]=me(Le),[pn,mn]=me(Le),hn=e=>{const{__scopeSelect:r,children:o,open:a,defaultOpen:c,onOpenChange:i,value:l,defaultValue:s,onValueChange:u,dir:f,name:d,autoComplete:p,disabled:m,required:v}=e,b=ft(r),[w,y]=t.useState(null),[g,h]=t.useState(null),[S,G]=t.useState(!1),M=Ge(f),[Y=!1,I]=Ue({prop:a,defaultProp:c,onChange:i}),[D,C]=Ue({prop:l,defaultProp:s,onChange:u}),A=t.useRef(null),F=w?!!w.closest("form"):!0,[K,oe]=t.useState(new Set),ne=Array.from(K).map(k=>k.props.value).join(";");return t.createElement(yo,b,t.createElement(fn,{required:v,scope:r,trigger:w,onTriggerChange:y,valueNode:g,onValueNodeChange:h,valueNodeHasChildren:S,onValueNodeHasChildrenChange:G,contentId:Ze(),value:D,onValueChange:C,open:Y,onOpenChange:I,dir:M,triggerPointerDownPosRef:A,disabled:m},t.createElement(Oe.Provider,{scope:r},t.createElement(pn,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(k=>{oe(Z=>new Set(Z).add(k))},[]),onNativeOptionRemove:t.useCallback(k=>{oe(Z=>{const Q=new Set(Z);return Q.delete(k),Q})},[])},o)),F?t.createElement(Xt,{key:ne,"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:p,value:D,onChange:k=>C(k.target.value),disabled:m},D===void 0?t.createElement("option",{value:""}):null,Array.from(K)):null))},bn="SelectTrigger",xn=t.forwardRef((e,r)=>{const{__scopeSelect:o,disabled:a=!1,...c}=e,i=ft(o),l=le(bn,o),s=l.disabled||a,u=O(r,l.onTriggerChange),f=ke(o),[d,p,m]=qt(b=>{const w=f().filter(h=>!h.disabled),y=w.find(h=>h.value===l.value),g=Gt(w,b,y);g!==void 0&&l.onValueChange(g.value)}),v=()=>{s||(l.onOpenChange(!0),m())};return t.createElement(mo,x({asChild:!0},i),t.createElement(N.button,x({type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":Kt(l.value)?"":void 0},c,{ref:u,onClick:T(c.onClick,b=>{b.currentTarget.focus()}),onPointerDown:T(c.onPointerDown,b=>{const w=b.target;w.hasPointerCapture(b.pointerId)&&w.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&(v(),l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)},b.preventDefault())}),onKeyDown:T(c.onKeyDown,b=>{const w=d.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&p(b.key),!(w&&b.key===" ")&&ln.includes(b.key)&&(v(),b.preventDefault())})})))}),vn="SelectValue",gn=t.forwardRef((e,r)=>{const{__scopeSelect:o,className:a,style:c,children:i,placeholder:l="",...s}=e,u=le(vn,o),{onValueNodeHasChildrenChange:f}=u,d=i!==void 0,p=O(r,u.onValueNodeChange);return ee(()=>{f(d)},[f,d]),t.createElement(N.span,x({},s,{ref:p,style:{pointerEvents:"none"}}),Kt(u.value)?t.createElement(t.Fragment,null,l):i)}),$n=t.forwardRef((e,r)=>{const{__scopeSelect:o,children:a,...c}=e;return t.createElement(N.span,x({"aria-hidden":!0},c,{ref:r}),a||"▼")}),wn=e=>t.createElement(ho,x({asChild:!0},e)),pe="SelectContent",Sn=t.forwardRef((e,r)=>{const o=le(pe,e.__scopeSelect),[a,c]=t.useState();if(ee(()=>{c(new DocumentFragment)},[]),!o.open){const i=a;return i?St.createPortal(t.createElement(zt,{scope:e.__scopeSelect},t.createElement(Oe.Slot,{scope:e.__scopeSelect},t.createElement("div",null,e.children))),i):null}return t.createElement(yn,x({},e,{ref:r}))}),J=10,[zt,ie]=me(pe),yn=t.forwardRef((e,r)=>{const{__scopeSelect:o,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:i,onPointerDownOutside:l,side:s,sideOffset:u,align:f,alignOffset:d,arrowPadding:p,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:w,avoidCollisions:y,...g}=e,h=le(pe,o),[S,G]=t.useState(null),[M,Y]=t.useState(null),I=O(r,$=>G($)),[D,C]=t.useState(null),[A,F]=t.useState(null),K=ke(o),[oe,ne]=t.useState(!1),k=t.useRef(!1);t.useEffect(()=>{if(S)return bo(S)},[S]),xo();const Z=t.useCallback($=>{const[_,...V]=K().map(P=>P.ref.current),[j]=V.slice(-1),E=document.activeElement;for(const P of $)if(P===E||(P==null||P.scrollIntoView({block:"nearest"}),P===_&&M&&(M.scrollTop=0),P===j&&M&&(M.scrollTop=M.scrollHeight),P==null||P.focus(),document.activeElement!==E))return},[K,M]),Q=t.useCallback(()=>Z([D,S]),[Z,D,S]);t.useEffect(()=>{oe&&Q()},[oe,Q]);const{onOpenChange:de,triggerPointerDownPosRef:re}=h;t.useEffect(()=>{if(S){let $={x:0,y:0};const _=j=>{var E,P,X,q;$={x:Math.abs(Math.round(j.pageX)-((E=(P=re.current)===null||P===void 0?void 0:P.x)!==null&&E!==void 0?E:0)),y:Math.abs(Math.round(j.pageY)-((X=(q=re.current)===null||q===void 0?void 0:q.y)!==null&&X!==void 0?X:0))}},V=j=>{$.x<=10&&$.y<=10?j.preventDefault():S.contains(j.target)||de(!1),document.removeEventListener("pointermove",_),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",_),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",V,{capture:!0})}}},[S,de,re]),t.useEffect(()=>{const $=()=>de(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[de]);const[Fe,ve]=qt($=>{const _=K().filter(E=>!E.disabled),V=_.find(E=>E.ref.current===document.activeElement),j=Gt(_,$,V);j&&setTimeout(()=>j.ref.current.focus())}),Ve=t.useCallback(($,_,V)=>{const j=!k.current&&!V;(h.value!==void 0&&h.value===_||j)&&(C($),j&&(k.current=!0))},[h.value]),He=t.useCallback(()=>S==null?void 0:S.focus(),[S]),ue=t.useCallback(($,_,V)=>{const j=!k.current&&!V;(h.value!==void 0&&h.value===_||j)&&F($)},[h.value]),ge=a==="popper"?bt:Cn,he=ge===bt?{side:s,sideOffset:u,align:f,alignOffset:d,arrowPadding:p,collisionBoundary:m,collisionPadding:v,sticky:b,hideWhenDetached:w,avoidCollisions:y}:{};return t.createElement(zt,{scope:o,content:S,viewport:M,onViewportChange:Y,itemRefCallback:Ve,selectedItem:D,onItemLeave:He,itemTextRefCallback:ue,focusSelectedItem:Q,selectedItemText:A,position:a,isPositioned:oe,searchRef:Fe},t.createElement(vo,{as:go,allowPinchZoom:!0},t.createElement($o,{asChild:!0,trapped:h.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:T(c,$=>{var _;(_=h.trigger)===null||_===void 0||_.focus({preventScroll:!0}),$.preventDefault()})},t.createElement(wo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>h.onOpenChange(!1)},t.createElement(ge,x({role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:$=>$.preventDefault()},g,he,{onPlaced:()=>ne(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:T(g.onKeyDown,$=>{const _=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!_&&$.key.length===1&&ve($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let j=K().filter(E=>!E.disabled).map(E=>E.ref.current);if(["ArrowUp","End"].includes($.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const E=$.target,P=j.indexOf(E);j=j.slice(P+1)}setTimeout(()=>Z(j)),$.preventDefault()}})}))))))}),Cn=t.forwardRef((e,r)=>{const{__scopeSelect:o,onPlaced:a,...c}=e,i=le(pe,o),l=ie(pe,o),[s,u]=t.useState(null),[f,d]=t.useState(null),p=O(r,I=>d(I)),m=ke(o),v=t.useRef(!1),b=t.useRef(!0),{viewport:w,selectedItem:y,selectedItemText:g,focusSelectedItem:h}=l,S=t.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&f&&w&&y&&g){const I=i.trigger.getBoundingClientRect(),D=f.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(i.dir!=="rtl"){const E=A.left-D.left,P=C.left-E,X=I.left-P,q=I.width+X,We=Math.max(q,D.width),Be=window.innerWidth-J,ze=Ye(P,[J,Be-We]);s.style.minWidth=q+"px",s.style.left=ze+"px"}else{const E=D.right-A.right,P=window.innerWidth-C.right-E,X=window.innerWidth-I.right-P,q=I.width+X,We=Math.max(q,D.width),Be=window.innerWidth-J,ze=Ye(P,[J,Be-We]);s.style.minWidth=q+"px",s.style.right=ze+"px"}const F=m(),K=window.innerHeight-J*2,oe=w.scrollHeight,ne=window.getComputedStyle(f),k=parseInt(ne.borderTopWidth,10),Z=parseInt(ne.paddingTop,10),Q=parseInt(ne.borderBottomWidth,10),de=parseInt(ne.paddingBottom,10),re=k+Z+oe+de+Q,Fe=Math.min(y.offsetHeight*5,re),ve=window.getComputedStyle(w),Ve=parseInt(ve.paddingTop,10),He=parseInt(ve.paddingBottom,10),ue=I.top+I.height/2-J,ge=K-ue,he=y.offsetHeight/2,$=y.offsetTop+he,_=k+Z+$,V=re-_;if(_<=ue){const E=y===F[F.length-1].ref.current;s.style.bottom="0px";const P=f.clientHeight-w.offsetTop-w.offsetHeight,X=Math.max(ge,he+(E?He:0)+P+Q),q=_+X;s.style.height=q+"px"}else{const E=y===F[0].ref.current;s.style.top="0px";const X=Math.max(ue,k+w.offsetTop+(E?Ve:0)+he)+V;s.style.height=X+"px",w.scrollTop=_-ue+w.offsetTop}s.style.margin=`${J}px 0`,s.style.minHeight=Fe+"px",s.style.maxHeight=K+"px",a==null||a(),requestAnimationFrame(()=>v.current=!0)}},[m,i.trigger,i.valueNode,s,f,w,y,g,i.dir,a]);ee(()=>S(),[S]);const[G,M]=t.useState();ee(()=>{f&&M(window.getComputedStyle(f).zIndex)},[f]);const Y=t.useCallback(I=>{I&&b.current===!0&&(S(),h==null||h(),b.current=!1)},[S,h]);return t.createElement(En,{scope:o,contentWrapper:s,shouldExpandOnScrollRef:v,onScrollButtonChange:Y},t.createElement("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:G}},t.createElement(N.div,x({},c,{ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}}))))}),bt=t.forwardRef((e,r)=>{const{__scopeSelect:o,align:a="start",collisionPadding:c=J,...i}=e,l=ft(o);return t.createElement(So,x({},l,i,{ref:r,align:a,collisionPadding:c,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[En,pt]=me(pe,{}),xt="SelectViewport",Pn=t.forwardRef((e,r)=>{const{__scopeSelect:o,...a}=e,c=ie(xt,o),i=pt(xt,o),l=O(r,c.onViewportChange),s=t.useRef(0);return t.createElement(t.Fragment,null,t.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),t.createElement(Oe.Slot,{scope:o},t.createElement(N.div,x({"data-radix-select-viewport":"",role:"presentation"},a,{ref:l,style:{position:"relative",flex:1,overflow:"auto",...a.style},onScroll:T(a.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&d){const m=Math.abs(s.current-f.scrollTop);if(m>0){const v=window.innerHeight-J*2,b=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),y=Math.max(b,w);if(y<v){const g=y+m,h=Math.min(v,g),S=g-h;d.style.height=h+"px",d.style.bottom==="0px"&&(f.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}s.current=f.scrollTop})}))))}),Tn="SelectGroup",[lr,_n]=me(Tn),jn="SelectLabel",Rn=t.forwardRef((e,r)=>{const{__scopeSelect:o,...a}=e,c=_n(jn,o);return t.createElement(N.div,x({id:c.id},a,{ref:r}))}),Xe="SelectItem",[Nn,Ut]=me(Xe),In=t.forwardRef((e,r)=>{const{__scopeSelect:o,value:a,disabled:c=!1,textValue:i,...l}=e,s=le(Xe,o),u=ie(Xe,o),f=s.value===a,[d,p]=t.useState(i??""),[m,v]=t.useState(!1),b=O(r,g=>{var h;return(h=u.itemRefCallback)===null||h===void 0?void 0:h.call(u,g,a,c)}),w=Ze(),y=()=>{c||(s.onValueChange(a),s.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.createElement(Nn,{scope:o,value:a,disabled:c,textId:w,isSelected:f,onItemTextChange:t.useCallback(g=>{p(h=>{var S;return h||((S=g==null?void 0:g.textContent)!==null&&S!==void 0?S:"").trim()})},[])},t.createElement(Oe.ItemSlot,{scope:o,value:a,disabled:c,textValue:d},t.createElement(N.div,x({role:"option","aria-labelledby":w,"data-highlighted":m?"":void 0,"aria-selected":f&&m,"data-state":f?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1},l,{ref:b,onFocus:T(l.onFocus,()=>v(!0)),onBlur:T(l.onBlur,()=>v(!1)),onPointerUp:T(l.onPointerUp,y),onPointerMove:T(l.onPointerMove,g=>{if(c){var h;(h=u.onItemLeave)===null||h===void 0||h.call(u)}else g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:T(l.onPointerLeave,g=>{if(g.currentTarget===document.activeElement){var h;(h=u.onItemLeave)===null||h===void 0||h.call(u)}}),onKeyDown:T(l.onKeyDown,g=>{var h;((h=u.searchRef)===null||h===void 0?void 0:h.current)!==""&&g.key===" "||(dn.includes(g.key)&&y(),g.key===" "&&g.preventDefault())})}))))}),$e="SelectItemText",An=t.forwardRef((e,r)=>{const{__scopeSelect:o,className:a,style:c,...i}=e,l=le($e,o),s=ie($e,o),u=Ut($e,o),f=mn($e,o),[d,p]=t.useState(null),m=O(r,g=>p(g),u.onItemTextChange,g=>{var h;return(h=s.itemTextRefCallback)===null||h===void 0?void 0:h.call(s,g,u.value,u.disabled)}),v=d==null?void 0:d.textContent,b=t.useMemo(()=>t.createElement("option",{key:u.value,value:u.value,disabled:u.disabled},v),[u.disabled,u.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:y}=f;return ee(()=>(w(b),()=>y(b)),[w,y,b]),t.createElement(t.Fragment,null,t.createElement(N.span,x({id:u.textId},i,{ref:m})),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?St.createPortal(i.children,l.valueNode):null)}),Dn="SelectItemIndicator",Mn=t.forwardRef((e,r)=>{const{__scopeSelect:o,...a}=e;return Ut(Dn,o).isSelected?t.createElement(N.span,x({"aria-hidden":!0},a,{ref:r})):null}),vt="SelectScrollUpButton",Ln=t.forwardRef((e,r)=>{const o=ie(vt,e.__scopeSelect),a=pt(vt,e.__scopeSelect),[c,i]=t.useState(!1),l=O(r,a.onScrollButtonChange);return ee(()=>{if(o.viewport&&o.isPositioned){let u=function(){const f=s.scrollTop>0;i(f)};const s=o.viewport;return u(),s.addEventListener("scroll",u),()=>s.removeEventListener("scroll",u)}},[o.viewport,o.isPositioned]),c?t.createElement(Yt,x({},e,{ref:l,onAutoScroll:()=>{const{viewport:s,selectedItem:u}=o;s&&u&&(s.scrollTop=s.scrollTop-u.offsetHeight)}})):null}),gt="SelectScrollDownButton",On=t.forwardRef((e,r)=>{const o=ie(gt,e.__scopeSelect),a=pt(gt,e.__scopeSelect),[c,i]=t.useState(!1),l=O(r,a.onScrollButtonChange);return ee(()=>{if(o.viewport&&o.isPositioned){let u=function(){const f=s.scrollHeight-s.clientHeight,d=Math.ceil(s.scrollTop)<f;i(d)};const s=o.viewport;return u(),s.addEventListener("scroll",u),()=>s.removeEventListener("scroll",u)}},[o.viewport,o.isPositioned]),c?t.createElement(Yt,x({},e,{ref:l,onAutoScroll:()=>{const{viewport:s,selectedItem:u}=o;s&&u&&(s.scrollTop=s.scrollTop+u.offsetHeight)}})):null}),Yt=t.forwardRef((e,r)=>{const{__scopeSelect:o,onAutoScroll:a,...c}=e,i=ie("SelectScrollButton",o),l=t.useRef(null),s=ke(o),u=t.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return t.useEffect(()=>()=>u(),[u]),ee(()=>{var f;const d=s().find(p=>p.ref.current===document.activeElement);d==null||(f=d.ref.current)===null||f===void 0||f.scrollIntoView({block:"nearest"})},[s]),t.createElement(N.div,x({"aria-hidden":!0},c,{ref:r,style:{flexShrink:0,...c.style},onPointerDown:T(c.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(a,50))}),onPointerMove:T(c.onPointerMove,()=>{var f;(f=i.onItemLeave)===null||f===void 0||f.call(i),l.current===null&&(l.current=window.setInterval(a,50))}),onPointerLeave:T(c.onPointerLeave,()=>{u()})}))}),kn=t.forwardRef((e,r)=>{const{__scopeSelect:o,...a}=e;return t.createElement(N.div,x({"aria-hidden":!0},a,{ref:r}))});function Kt(e){return e===""||e===void 0}const Xt=t.forwardRef((e,r)=>{const{value:o,...a}=e,c=t.useRef(null),i=O(r,c),l=cn(o);return t.useEffect(()=>{const s=c.current,u=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==o&&d){const p=new Event("change",{bubbles:!0});d.call(s,o),s.dispatchEvent(p)}},[l,o]),t.createElement(sn,{asChild:!0},t.createElement("select",x({},a,{ref:i,defaultValue:o})))});Xt.displayName="BubbleSelect";function qt(e){const r=ae(e),o=t.useRef(""),a=t.useRef(0),c=t.useCallback(l=>{const s=o.current+l;r(s),function u(f){o.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>u(""),1e3))}(s)},[r]),i=t.useCallback(()=>{o.current="",window.clearTimeout(a.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(a.current),[]),[o,c,i]}function Gt(e,r,o){const c=r.length>1&&Array.from(r).every(f=>f===r[0])?r[0]:r,i=o?e.indexOf(o):-1;let l=Fn(e,Math.max(i,0));c.length===1&&(l=l.filter(f=>f!==o));const u=l.find(f=>f.textValue.toLowerCase().startsWith(c.toLowerCase()));return u!==o?u:void 0}function Fn(e,r){return e.map((o,a)=>e[(r+a)%e.length])}const Vn=hn,Zt=xn,Hn=gn,Wn=$n,Bn=wn,Qt=Sn,zn=Pn,Jt=Rn,eo=In,Un=An,Yn=Mn,to=Ln,oo=On,no=kn,Kn=Vn,Xn=Hn,ro=t.forwardRef(({className:e,children:r,...o},a)=>n.jsxs(Zt,{ref:a,className:R("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...o,children:[r,n.jsx(Wn,{asChild:!0,children:n.jsx(yt,{className:"h-4 w-4 opacity-50"})})]}));ro.displayName=Zt.displayName;const ao=t.forwardRef(({className:e,...r},o)=>n.jsx(to,{ref:o,className:R("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(_o,{className:"h-4 w-4"})}));ao.displayName=to.displayName;const co=t.forwardRef(({className:e,...r},o)=>n.jsx(oo,{ref:o,className:R("flex cursor-default items-center justify-center py-1",e),...r,children:n.jsx(yt,{className:"h-4 w-4"})}));co.displayName=oo.displayName;const so=t.forwardRef(({className:e,children:r,position:o="popper",...a},c)=>n.jsx(Bn,{children:n.jsxs(Qt,{ref:c,className:R("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:o,...a,children:[n.jsx(ao,{}),n.jsx(zn,{className:R("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),n.jsx(co,{})]})}));so.displayName=Qt.displayName;const qn=t.forwardRef(({className:e,...r},o)=>n.jsx(Jt,{ref:o,className:R("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...r}));qn.displayName=Jt.displayName;const lo=t.forwardRef(({className:e,children:r,...o},a)=>n.jsxs(eo,{ref:a,className:R("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...o,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Yn,{children:n.jsx(be,{className:"h-4 w-4"})})}),n.jsx(Un,{children:r})]}));lo.displayName=eo.displayName;const Gn=t.forwardRef(({className:e,...r},o)=>n.jsx(no,{ref:o,className:R("-mx-1 my-1 h-px bg-muted",e),...r}));Gn.displayName=no.displayName;const Zn=it.extend({role:L.string().default("student"),institute:L.string({required_error:"Это поле обязательно для заполнения"}),direction:L.string({required_error:"Это поле обязательно для заполнения"}),group:L.string({required_error:"Это поле обязательно для заполнения"}).min(3,{message:"Это поле обязательно"}),graduate_year:L.coerce.number({required_error:"Это поле обязательно для заполнения"}).min(new Date().getFullYear(),{message:"Неправильный год выпуска"}).default(new Date().getFullYear())}).refine(e=>e.password===e.password2,{path:["password2"],message:"Пароли не совпадают!"}),Qn=()=>{const{data:e}=ye({option:"institutes"}),{data:r}=ye({option:"directions"}),o=Array.from(Array(new Date().getFullYear()+4-new Date().getFullYear()+1).keys()).map(d=>d+new Date().getFullYear()),{isSuccess:a}=Je(),{error:c,isPending:i,mutate:l}=et(),s=ot({resolver:nt(Zn),defaultValues:{}}),u=Qe(),f=d=>{l(d)};return t.useEffect(()=>{a&&u("/home")},[a]),n.jsx(rt,{...s,children:n.jsxs("form",{onSubmit:s.handleSubmit(f),className:"min-w-min space-y-3 text-center",children:[n.jsx(tt,{}),n.jsx(at,{className:"text-start text-danger",children:c?c.message:""}),n.jsx(lt,{form:s}),n.jsx(H,{control:s.control,name:"institute",render:({field:d})=>{var p;return n.jsxs(W,{children:[n.jsxs(Ce,{children:[n.jsx(Ee,{asChild:!0,children:n.jsx(B,{children:n.jsxs(se,{variant:"outline",role:"combobox",className:R("min-w-[16rem] justify-between",!d.value&&"text-muted-foreground"),children:[d.value?(p=e==null?void 0:e.find(m=>m.id===d.value))==null?void 0:p.label:"Институт *",n.jsx(Pe,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),n.jsx(Te,{className:"min-w-[16rem] p-0",children:n.jsxs(_e,{children:[n.jsx(je,{placeholder:"Поиск..."}),n.jsx(Re,{children:"Ничего не найдено."}),n.jsx(Ne,{children:e==null?void 0:e.map(m=>n.jsxs(Ie,{value:m.label,onSelect:()=>{s.setValue("institute",m.id)},children:[n.jsx(be,{className:R("mr-2 h-4 w-4",m.id===d.value?"opacity-100":"opacity-0")}),m.label]},m.id))})]})})]}),n.jsx(z,{})]})}}),n.jsx(H,{control:s.control,name:"direction",render:({field:d})=>{var p;return n.jsxs(W,{children:[n.jsxs(Ce,{children:[n.jsx(Ee,{asChild:!0,children:n.jsx(B,{children:n.jsxs(se,{variant:"outline",role:"combobox",className:R("min-w-[16rem] justify-between",!d.value&&"text-muted-foreground"),children:[d.value?(p=r==null?void 0:r.find(m=>m.id===d.value))==null?void 0:p.label:"Направление *",n.jsx(Pe,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),n.jsx(Te,{className:"min-w-[16rem] p-0",children:n.jsxs(_e,{children:[n.jsx(je,{placeholder:"Поиск..."}),n.jsx(Re,{children:"Ничего не найдено."}),n.jsx(Ne,{children:n.jsx(ut,{className:"h-72",children:r==null?void 0:r.map(m=>n.jsxs(Ie,{value:m.label,onSelect:()=>{s.setValue("direction",m.id)},children:[n.jsx(be,{className:R("mr-2 h-4 w-4",m.id===d.value?"opacity-100":"opacity-0")}),m.label]},m.id))})})]})})]}),n.jsx(z,{})]})}}),n.jsx(H,{control:s.control,name:"group",render:({field:d})=>n.jsxs(W,{children:[n.jsx(B,{children:n.jsx(ce,{placeholder:"Группа *  Например: ПИ4-1",...d})}),n.jsx(z,{})]})}),n.jsx(H,{control:s.control,name:"graduate_year",render:({field:d})=>n.jsxs(W,{className:"text-start",children:[n.jsxs(Kn,{onValueChange:d.onChange,children:[n.jsx(B,{className:R(!d.value&&"text-muted-foreground"),children:n.jsx(ro,{children:n.jsx(Xn,{placeholder:"Год выпуска *"})})}),n.jsx(so,{children:o.map(p=>n.jsx(lo,{value:p.toString(10),children:p},p))})]}),n.jsx(z,{})]})}),n.jsxs(se,{type:"submit",disabled:i,className:"rounded-5 mt-4",children:[i?n.jsx(ct,{className:"mr-2 h-4 w-4 animate-spin"}):null,"зарегистрироваться"]})]})})},Jn=it.extend({role:L.string().default("teacher"),institute:L.string({required_error:"Это поле обязательно для заполнения"}),department:L.number({required_error:"Это поле обязательно для заполнения"})}).refine(e=>e.password===e.password2,{path:["password2"],message:"Пароли не совпадают!"}),er=()=>{const{data:e}=ye({option:"institutes"}),{data:r}=ye({option:"departments"}),o=ot({resolver:nt(Jn)}),a=Qe(),{isSuccess:c}=Je(),{error:i,isPending:l,mutate:s}=et(),u=f=>{s(f)};return t.useEffect(()=>{c&&a("/home")},[c]),n.jsx(rt,{...o,children:n.jsxs("form",{onSubmit:o.handleSubmit(u),className:"min-w-min space-y-3 text-center",children:[n.jsx(tt,{}),n.jsx(at,{className:"text-start text-danger",children:i?i.message:""}),n.jsx(lt,{form:o}),n.jsx(H,{control:o.control,name:"institute",render:({field:f})=>{var d;return n.jsxs(W,{children:[n.jsxs(Ce,{children:[n.jsx(Ee,{asChild:!0,children:n.jsx(B,{children:n.jsxs(se,{variant:"outline",role:"combobox",className:R("min-w-[16rem] justify-between",!f.value&&"text-muted-foreground"),children:[f.value?(d=e==null?void 0:e.find(p=>p.id===f.value))==null?void 0:d.label:"Институт *",n.jsx(Pe,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),n.jsx(Te,{className:"min-w-[16rem] p-0",children:n.jsxs(_e,{children:[n.jsx(je,{placeholder:"Поиск..."}),n.jsx(Re,{children:"Ничего не найдено."}),n.jsx(Ne,{children:e==null?void 0:e.map(p=>n.jsxs(Ie,{id:p.label,onSelect:()=>{o.setValue("institute",p.id)},children:[n.jsx(be,{className:R("mr-2 h-4 w-4",p.id===f.value?"opacity-100":"opacity-0")}),p.label]},p.id))})]})})]}),n.jsx(z,{})]})}}),n.jsx(H,{control:o.control,name:"department",render:({field:f})=>{var d;return n.jsxs(W,{children:[n.jsxs(Ce,{children:[n.jsx(Ee,{asChild:!0,children:n.jsx(B,{children:n.jsxs(se,{variant:"outline",role:"combobox",className:R("min-w-[16rem] justify-between",!f.value&&"text-muted-foreground"),children:[f.value?(d=r==null?void 0:r.find(p=>+p.id===f.value))==null?void 0:d.label:"Кафедра *",n.jsx(Pe,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),n.jsx(Te,{className:"min-w-[16rem] p-0",children:n.jsxs(_e,{children:[n.jsx(je,{placeholder:"Поиск..."}),n.jsx(Re,{children:"Ничего не найдено."}),n.jsx(Ne,{children:n.jsx(ut,{className:"h-72",children:r==null?void 0:r.map(p=>n.jsxs(Ie,{id:p.label,onSelect:()=>{o.setValue("department",+p.id)},children:[n.jsx(be,{className:R("mr-2 h-4 w-4",+p.id===f.value?"opacity-100":"opacity-0")}),p.label]},p.id))})})]})})]}),n.jsx(z,{})]})}}),n.jsxs(se,{type:"submit",disabled:l,className:"rounded-5 mt-4",children:[l?n.jsx(ct,{className:"mr-2 h-4 w-4 animate-spin"}):null,"зарегистрироваться"]})]})})},ir=()=>n.jsx(Co,{title:"Регистрация",content:"Странтца регистрации",children:n.jsxs("div",{className:"container justify-content-center align-items-center flex flex-column h-[90%] my-20",children:[n.jsx("div",{className:"justify-content-center align-items-center fs-1 fw-bold mb-4",children:n.jsx("div",{children:"Регистрация"})}),n.jsxs(Fo,{defaultValue:"student",className:"min-w-min",children:[n.jsxs(Nt,{className:"grid w-full grid-cols-3",children:[n.jsx(we,{value:"student",children:"Студент"}),n.jsx(we,{value:"teacher",children:"Преподаватель"}),n.jsx(we,{value:"admin",children:"Админ"})]}),n.jsx(Se,{value:"student",className:"justify-center flex",children:n.jsx(Qn,{})}),n.jsx(Se,{value:"teacher",className:"justify-center flex",children:n.jsx(er,{})}),n.jsx(Se,{value:"admin",className:"justify-center flex",children:n.jsx(Ho,{})})]}),n.jsx("div",{className:"mt-3 mb-3",children:n.jsxs("p",{className:"mb-0 text-center",children:["Уже есть аккаунт?"," ",n.jsx(Eo,{to:"/login",className:"text-primary fw-bold",children:"Войти"})]})})]})});export{ir as default};
